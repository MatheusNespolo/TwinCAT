var jsNavigationSrc=document.currentScript.src;$(function(){"undefined"==typeof console&&(this.console={log:function(){}}),$('[data-plugin="navigation"]').navigation()}),function(h){h.fn.navigation=function(){return this.each(function(){var d,c,o,r,t,u=h(this),e={get template(){if(void 0!==u.data("template"))return u.data("template")},get subtemplate(){if(void 0!==u.data("subtemplate"))return u.data("subtemplate")},get cmsId(){if(void 0!==u.data("cms-id"))return u.data("cms-id")},get cmsPid(){if(void 0!==u.data("cms-pid"))return u.data("cms-pid")},get cmsLanguage(){if(void 0!==u.data("cms-language"))return u.data("cms-language")},get cmsNativeLanguage(){if(void 0!==u.data("cms-native-language"))return u.data("cms-native-language")},get depth(){if(void 0!==u.data("depth"))return u.data("depth")}},l=new i,a=l.getUrlVars("dev");void 0===a||1!=a&&"true"!=a||(a=new URL(jsNavigationSrc),l.setConnection({host:a.origin,path:a.pathname.substring(0,a.pathname.lastIndexOf("/"))+"/navigation.proxy.php?callback=?"})),"undefined"!=typeof previewClient&&""!==previewClient&&l.setCmsPreviewClient(previewClient),"flyout"!==e.template||e.subtemplate?"flyout"===e.template&&"products"===e.subtemplate?(r=function(a){var t,i,s,n;l.view().done(function(e){!a&&e&&e.view&&e.view.breadcrumb&&e.view.headline&&e.view.nav?(d.append(e.view.breadcrumb),c.html(e.view.headline),o.html('<div class="nav-browser-page in">'+e.view.nav+"</div>")):a&&e&&e.view&&e.view.nav&&(t='<div class="nav-browser-page"></div>',n=a.hasClass("prev")||a.hasClass("path-link")&&a.parent().index()+1<a.parent().parent().children().length?(o.prepend(t),i="browser-fade-right",s=h(".nav-browser-page:eq(1)",o),h(".nav-browser-page:eq(0)",o)):(o.append(t),i="browser-fade-left",s=h(".nav-browser-page:eq(0)",o),h(".nav-browser-page:eq(1)",o)),s.addClass(i),s.delay(400).queue(function(){var t;n.html(e.view.nav),s.removeClass("in"),s.removeClass(i),n.addClass("in"),s.dequeue(),s.remove(),a.hasClass("prev")||a.hasClass("path-link")?void 0!==a.data("cms-id")&&1==h('.path-link[data-cms-id="'+a.data("cms-id")+'"]',d).length?((t=h('.path-link[data-cms-id="'+a.data("cms-id")+'"]',d)).parent().nextAll().remove(),t.parent().addClass("active")):void 0===a.data("cms-id")&&((t=h(".path-link:first",d)).parent().nextAll().remove(),t.parent().addClass("active")):(h("li:last",d).removeClass("active"),d.append(e.view.breadcrumb))}))})},u.on("click",".next, .prev, .path-link",function(t){var e,a,i,s,n,d;t.preventDefault(),(t=h(this)).parent().hasClass("active")||(void 0!==t.data("cms-id")&&t.data("cms-id")?e=t.data("cms-id"):void 0!==u.data("cms-id")&&u.data("cms-id")&&(e=u.data("cms-id")),void 0!==t.data("cms-pid")&&t.data("cms-pid")&&(a=t.data("cms-pid")),void 0!==t.data("pim-id")&&t.data("pim-id")&&(i=t.data("pim-id")),void 0!==t.data("facet")&&t.data("facet")&&(n=t.data("facet")),void 0!==t.data("depth")&&t.data("depth")?s=t.data("depth"):void 0!==u.data("depth")&&u.data("depth")&&(s=u.data("depth")),(t.hasClass("prev")||t.hasClass("next"))&&(d=t.attr("class")),t.hasClass("path-link")&&(d="prev"),l.setCmsId(e),l.setCmsPid(a),l.setPimId(i),l.setFacet(n),l.setDepth(s),l.setDirection(d),r(t))}),e.template&&l.setTemplate(e.template),e.subtemplate&&l.setSubtemplate(e.subtemplate),e.cmsLanguage&&l.setCmsLanguage(e.cmsLanguage),e.cmsNativeLanguage&&l.setCmsNativeLanguage(e.cmsNativeLanguage),e.cmsId&&l.setCmsId(e.cmsId),e.depth&&l.setDepth(e.depth),d=u.find(".dropdown__breadcrumb .ajax-container"),c=u.find(".dropdown__heading .ajax-container"),o=u.find(".dropdown__content .ajax-container"),r()):"breadcrumb"===e.template?(r=function(){l.view().done(function(t){t&&t.view&&h.each(t.view,function(t){t=h('.breadcrumb-item[data-cms-id="'+t+'"]',u);1==t.length&&(t.addClass("dropdown-bs"),t.find("a").addClass("dropdown-toggle"),t.append(this))})})},e.template&&l.setTemplate(e.template),e.cmsLanguage&&l.setCmsLanguage(e.cmsLanguage),e.cmsNativeLanguage&&l.setCmsNativeLanguage(e.cmsNativeLanguage),t=[],h(".breadcrumb-item[data-cms-id]",u).each(function(){t.push(h(this).data("cms-id"))}),l.setCmsIdList(t),r()):"mobile"===e.template&&(r=function(e){l.view().done(function(t){!e&&t&&t.view?u.html(t.view).promise().done(function(){var t,e,a=u.find(".nav-item--current");0<a.length&&(t=h(".sticky-top").length?h(".sticky-top").height():0,e=h(".section-breadcrumbs").length?h(".section-breadcrumbs").height():0,u.animate({scrollTop:a.offset().top-t-e-35-60},1e3))}):e&&t&&t.view&&(e.parent().parent().append(t.view),e.closest("li").toggleClass("open"))})},h(document).on("click",".nav-mobile .toggle-submenu",function(t){var e=h(this);t.preventDefault(),void 0===e.data("children-loaded")||e.data("children-loaded")?e.closest("li").toggleClass("open"):(e.data("children-loaded","true"),void 0!==e.data("cms-id")&&e.data("cms-id")&&(l.setCmsId(e.data("cms-id")),l.setDepth(null),r(e)))}),e.template&&l.setTemplate(e.template),e.cmsLanguage&&l.setCmsLanguage(e.cmsLanguage),e.cmsNativeLanguage&&l.setCmsNativeLanguage(e.cmsNativeLanguage),e.cmsId&&l.setInitCmsId(e.cmsId),e.cmsPid&&l.setCmsPid(e.cmsPid),e.depth&&l.setDepth(e.depth),void 0!==(a=l.getUrlVars("offcanvas"))?("true"==a?(l.setOffcanvas("in"),h("body").addClass("offcanvas-in"),h("#toggleMenu").addClass("active"),h("#menuOverlay").addClass("hidden")):"false"!=a&&!a||l.setOffcanvas(null),l.session("setSessionVars").done(function(t){})):l.session("getSessionVars").done(function(t){t&&t.view&&t.view.offcanvas&&"in"==t.view.offcanvas&&(h("body").addClass("offcanvas-in"),h("#toggleMenu").addClass("active"),h("#menuOverlay").addClass("hidden"))}),r()):(r=function(){h("[data-dropdown-src]",u).each(function(){var e=h(this);void 0!==e.data("dropdown-src")&&""!==e.data("dropdown-src")&&h.ajax({url:e.data("dropdown-src")}).done(function(t){e.removeAttr("data-dropdown-src"),e.addClass("has-dropdown"),e.append(t),void 0!==h(".dropdown",e).data("subtemplate")&&"products"==h(".dropdown",e).data("subtemplate")&&h(".dropdown",e).navigation()})})})()})};var i=function(){function i(t,e){return h.ajax({url:t.host+t.path,dataType:t.dataType,jsonp:t.jsonp,crossDomain:!0,xhrFields:{withCredentials:!0},cache:!1,data:e}).fail(function(t,e,a){console.log(a)})}function s(t){var i="";h.each(t,function(a,t){h.isPlainObject(t)?h.each(t,function(t,e){i+=a+"["+t+"]: "+e+"\n"}):i+=a+": "+t+"\n"}),console.log(i)}this.connection={host:webappUrl,path:"navigation/navigation.proxy.php?callback=?",dataType:"jsonp",jsonp:"json.wrf"},this.debug=null,this.template=null,this.subtemplate=null,this.cmsLanguage=null,this.cmsNativeLanguage=null,this.initCmsId=null,this.cmsId=null,this.cmsIdList=null,this.cmsPid=null,this.facet=null,this.direction=null,this.start=null,this.rows=null,this.offcanvas=null,this.cmsPreviewClient=null,this.getConnection=function(){return this.connection},this.setConnection=function(t){this.connection=h.extend(this.connection,t)},this.getDebug=function(){return this.debug},this.setDebug=function(t){this.debug=t},this.getTemplate=function(){return this.template},this.setTemplate=function(t){this.template=t},this.getSubtemplate=function(){return this.subtemplate},this.setSubtemplate=function(t){this.subtemplate=t},this.getCmsLanguage=function(){return this.cmsLanguage},this.setCmsLanguage=function(t){this.cmsLanguage=t},this.getCmsNativeLanguage=function(){return this.cmsNativeLanguage},this.setCmsNativeLanguage=function(t){this.cmsNativeLanguage=t},this.getInitCmsId=function(){return this.initCmsId},this.setInitCmsId=function(t){this.initCmsId=t},this.getCmsId=function(){return this.cmsId},this.setCmsId=function(t){this.cmsId=t},this.getCmsIdList=function(){return this.cmsIdList},this.setCmsIdList=function(t){this.cmsIdList=t},this.getCmsPid=function(){return this.cmsPid},this.setCmsPid=function(t){this.cmsPid=t},this.getPimId=function(){return this.pimId},this.setPimId=function(t){this.pimId=t},this.getDepth=function(){return this.depth},this.setDepth=function(t){this.depth=t},this.getFacet=function(){return this.facet},this.setFacet=function(t){this.facet=t},this.getDirection=function(){return this.direction},this.setDirection=function(t){this.direction=t},this.getStart=function(){return this.start},this.setStart=function(t){this.start=t},this.getRows=function(){return this.rows},this.setRows=function(t){this.rows=t},this.getOffcanvas=function(){return this.offcanvas},this.setOffcanvas=function(t){this.offcanvas=t},this.getCmsPreviewClient=function(){return this.cmsPreviewClient},this.setCmsPreviewClient=function(t){this.cmsPreviewClient=t},this.view=function(t){var e={action:"itemList",template:this.template,subtemplate:this.subtemplate,cmsPreviewClient:this.cmsPreviewClient,cmsLanguage:this.cmsLanguage,cmsNativeLanguage:this.cmsNativeLanguage,initCmsId:this.initCmsId,cmsId:this.cmsId,cmsIdList:this.cmsIdList,cmsPid:this.cmsPid,pimId:this.pimId,depth:this.depth,facet:this.facet,direction:this.direction},e=(this.debug&&s(e),i(this.connection,e)),a=new h.Deferred;return e.done(function(t){a.resolve(t)}),e.fail(function(t){a.reject(t)}),a.promise()},this.session=function(t){var t={action:t,offcanvas:this.offcanvas},t=(this.debug&&s(t),i(this.connection,t)),e=new h.Deferred;return t.done(function(t){e.resolve(t)}),t.fail(function(){e.reject()}),e.promise()},this.getUrlVars=function(t){var i={};return location.search.replace(/[?&]+([^=&]+)=([^&]*)/gi,function(t,e,a){i[e]=a}),t?i[t]:i}}}(jQuery);
//# sourceMappingURL=jquery.navigation.min.js.map